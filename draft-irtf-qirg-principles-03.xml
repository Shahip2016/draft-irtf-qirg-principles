<?xml version="1.0" encoding="US-ASCII"?>
<!-- This template is for creating an Internet Draft using xml2rfc,
    which is available here: http://xml.resource.org. -->
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!-- One method to get references from the online citation libraries.
    There has to be one entity for each item to be referenced.
    An alternate method (rfc include) is described in the references. -->
]>
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>
<!-- used by XSLT processors -->
<!-- For a complete list and description of processing instructions (PIs),
    please see http://xml.resource.org/authoring/README.html. -->
<!-- Below are generally applicable Processing Instructions (PIs) that most I-Ds might want to use.
    (Here they are set differently than their defaults in xml2rfc v1.32) -->
<?rfc strict="yes" ?>
<!-- give errors regarding ID-nits and DTD validation -->
<!-- control the table of contents (ToC) -->
<?rfc toc="yes"?>
<!-- generate a ToC -->
<?rfc tocdepth="3"?>
<!-- the number of levels of subsections in ToC. default: 3 -->
<!-- control references -->
<?rfc symrefs="no"?>
<!-- use symbolic references tags, i.e, [RFC2119] instead of [1] -->
<?rfc sortrefs="no" ?>
<!-- sort the reference entries alphabetically -->
<!-- control vertical white space
    (using these PIs as follows is recommended by the RFC Editor) -->
<?rfc compact="yes" ?>
<!-- do not start each main section on a new page -->
<?rfc subcompact="no" ?>
<!-- keep one blank line between list items -->
<!-- end of list of popular I-D processing instructions -->
<rfc category="info" docName="draft-irtf-qirg-principles-03" ipr="trust200902">
 <!-- category values: std, bcp, info, exp, and historic
    ipr values: trust200902, noModificationTrust200902, noDerivativesTrust200902,
       or pre5378Trust200902
    you can add the attributes updates="NNNN" and obsoletes="NNNN"
    they will automatically be output with "(if approved)" -->

 <!-- ***** FRONT MATTER ***** -->

 <front>
   <!-- The abbreviated title is used in the page header - it is only necessary if the
        full title is longer than 39 characters -->

   <title abbrev="Principles for a Quantum Internet">Architectural Principles
   for a Quantum Internet</title>

   <!-- add 'role="editor"' below for the editors if appropriate -->

   <!-- Another author who claims to be an editor -->

   <author fullname="Wojciech Kozlowski" initials="W" surname="Kozlowski">
     <organization>QuTech</organization>

     <address>
       <postal>
         <street>Building 22</street>
         <street>Lorentzweg 1</street>

         <!-- Reorder these if your country does things differently -->
         <code>2628 CJ</code>
         <city>Delft</city>
         <region></region>
         <country>Netherlands</country>
       </postal>

       <email>w.kozlowski@tudelft.nl</email>

       <!-- uri and facsimile elements may also be added -->
     </address>
   </author>

   <author fullname="Stephanie Wehner" initials="S" surname="Wehner">
     <organization>QuTech</organization>

     <address>
       <postal>
         <street>Building 22</street>
         <street>Lorentzweg 1</street>

         <!-- Reorder these if your country does things differently -->
         <code>2628 CJ</code>
         <city>Delft</city>
         <region></region>
         <country>Netherlands</country>
       </postal>

       <email>s.d.c.wehner@tudelft.nl</email>

       <!-- uri and facsimile elements may also be added -->
     </address>
   </author>

   <author fullname="Rodney Van Meter" initials="R" surname="Van Meter">
     <organization>Keio University</organization>

     <address>
       <postal>
         <street>5322 Endo</street>

         <!-- Reorder these if your country does things differently -->
         <city>Fujisawa</city>
         <region>Kanagawa</region>
         <code>252-0882</code>
         <country>Japan</country>
       </postal>

       <email>rdv@sfc.wide.ad.jp</email>

       <!-- uri and facsimile elements may also be added -->
     </address>
   </author>

   <author fullname="Bruno Rijsman" initials="B" surname="Rijsman">
     <organization>Individual</organization>
     <address>
       <email>brunorijsman@gmail.com</email>
     </address>
   </author>

   <author fullname="Angela Sara Cacciapuoti" initials="A" surname="S. Cacciapuoti">
     <organization>University of Naples Federico II</organization>

     <address>
       <postal>
         <street>Department of Electrical Engineering and Information Technologies</street>
         <street>Claudio 21</street>

         <!-- Reorder these if your country does things differently -->
         <code>80125</code>
         <city>Naples</city>
         <country>Italy</country>
       </postal>

       <email>angelasara.cacciapuoti@unina.it</email>

       <!-- uri and facsimile elements may also be added -->
     </address>
   </author>

   <author fullname="Marcello Caleffi" initials="M" surname="Caleffi">
     <organization>University of Naples Federico II</organization>

     <address>
       <postal>
         <street>Department of Electrical Engineering and Information Technologies</street>
         <street>Claudio 21</street>

         <!-- Reorder these if your country does things differently -->
         <code>80125</code>
         <city>Naples</city>
         <country>Italy</country>
       </postal>

       <email>marcello.caleffi@unina.it</email>

       <!-- uri and facsimile elements may also be added -->
     </address>
   </author>

   <author fullname="Shota Nagayama" initials="S" surname="Nagayama">
     <organization>Mercari, Inc.</organization>

     <address>
       <postal>
         <street>Roppongi Hills Mori Tower 18F</street>
         <street>6-10-1 Roppongi, Minato-ku</street>

         <!-- Reorder these if your country does things differently -->
         <code>106-6118</code>
         <city>Tokyo</city>
         <country>Japan</country>
       </postal>

       <email>shota.nagayama@mercari.com</email>

       <!-- uri and facsimile elements may also be added -->
     </address>
   </author>

   <date year="2020" />

   <!-- If the month and year are both specified and are the current ones, xml2rfc will fill
        in the current day for you. If only the current year is specified, xml2rfc will fill
	 in the current day and month for you. If the year is not the current one, it is
	 necessary to specify at least a month (xml2rfc assumes day="1" if not specified for the
	 purpose of calculating the expiry date).  With drafts it is normally sufficient to
	 specify just the year. -->

   <!-- Meta-data Declarations -->

   <area>General</area>

   <workgroup>Quantum Internet Research Group</workgroup>

   <!-- WG name at the upperleft corner of the doc,
        IETF is fine for individual submissions.
	 If this element is not present, the default is "Network Working Group",
        which is used by the RFC Editor as a nod to the history of the IETF. -->

   <keyword>Quantum Internet</keyword>
   <keyword>Architecture</keyword>
   <keyword>Repeater</keyword>
   <keyword>Bell Pair</keyword>
   <keyword>EPR Pair</keyword>

   <!-- Keywords will be incorporated into HTML output
        files in a meta tag but they have no effect on text or nroff
        output. If you submit your draft to the RFC Editor, the
        keywords will be used for the search engine. -->

   <abstract>
     <t>The vision of a quantum internet is to fundamentally enhance Internet
     technology by enabling quantum communication between any two points on
     Earth. To achieve this goal, a quantum network stack should be built from
     the ground up as the physical nature of the communication is fundamentally
     different. The first realisations of quantum networks are imminent, but
     there is no practical proposal for how to organise, utilise, and manage
     such networks. In this memo, we attempt to lay down the framework and
     introduce some basic architectural principles for a quantum internet. This
     is intended for general guidance and general interest, but also to provide
     a foundation for discussion between physicists and network
     specialists.</t>
   </abstract>
 </front>

 <middle>
   <section title="Introduction">
     <t>Quantum networks are distributed systems of quantum devices that
     utilise fundamental quantum mechanical phenomena such as superposition,
     entanglement, and quantum measurement to achieve capabilities beyond what
     is possible with classical networks. Depending on the stage of a quantum
     network <xref target="wehner18"></xref> such devices may be simple
     photonic devices capable of preparing and measuring only one quantum bit
     (qubit) at a time, all the way to large-scale quantum computers of the
     future. A quantum network is not meant to replace classical networks, but
     rather form an overall hybrid classical quantum network supporting new
     capabilities which are otherwise impossible to realise.

     This new networking paradigm offers promise for a range of new
     applications such as secure communications <xref
     target="bennett14"></xref>, distributed quantum computation <xref
     target="crep02"></xref>, or quantum sensor networks <xref
     target="giov04"></xref>. The field of quantum communication has been a
     subject of active research for many years and the most well-known
     application of quantum communication, quantum key distribution (QKD) for
     secure communications, has already been deployed at short (roughly 100km)
     distances.</t>

     <t>Fully quantum networks capable of transmitting and managing entangled
     quantum states in order to send, receive, and manipulate distributed
     quantum information are now imminent <xref target="castel18"></xref> <xref
     target="wehner18"></xref>. Whilst a lot of effort has gone into physically
     realising and connecting such devices, and making improvements to their
     speed and error tolerance, there are no worked out proposals for how to run
     these networks. To draw an analogy with a classical network, we are at a
     stage where we can start to physically connect our devices and send data,
     but all sending, receiving, buffer management, connection synchronisation,
     and so on, must be managed by the application itself at a level below
     convential assembly language, where no common interfaces yet exist.
     Furthermore, whilst physical mechanisms for transmitting quantum states
     exist, there are no robust protocols for managing such transmissions.</t>
     </section>

   <section title="Quantum information">
     <t>In order to understand the framework for quantum networking, a basic
     understanding of quantum information is necessary. The following sections
     aim to introduce the bare minimum necessary to understand the principles
     of operation of a quantum network. This exposition was written with a
     classical networking audience in mind. It is assumed that the reader has
     never before been exposed to any quantum physics. We refer to e.g. <xref target="sutor"> <xref
     target="nielsen"/> for an in-depth introduction to quantum
     information.</t>

     <section title="Qubit">
       <t>The differences between quantum computation and classical computation
       begin at the bit-level. A classical computer operates on the binary
       alphabet { 0, 1 }. A quantum bit, a qubit, exists over the same binary
       space, but unlike the classical bit, it can exist in a
       superposition of the two possibilities:</t>

       <t>a |0> + b |1>,</t>

       <t>where |X> denotes a quantum state, here the binary 0 and 1, and the
       coefficients a and b are complex numbers called probability amplitudes.
       Physically, such a state can be realised using a variety of different
       technologies such as electron spin, photon polarisation, atomic energy
       levels, and so on.</t>

       <t>Upon measurement, the qubit loses its superposition and irreversibly
       collapses into one of the two basis states, either |0> or |1>. Which of
       the two states it ends up in is not deterministic, but it can be
       determined from the readout of the measurement, a classical bit, 0 or 1
       respectively. The probability of measuring the state in the |0> state is
       |a|^2 and similarly the probability of measuring the state in the |1>
       state is |b|^2, where |a|^2 + |b|^2 = 1. This randomness is not due to
       our ignorance of the underlying mechanisms, but rather it is a
       fundamental feature of a quantum mechanical system <xref
       target="aspect81"></xref>.</t>

       <t>The superposition property plays an important role in fundamental
       gate operations on qubits. Since a qubit can exist in a superposition of
       its basis states, the elementary quantum gates are able to act on all
       states of the superposition at the same time. For example, consider the
       NOT gate:</t>

       <t>NOT (a |0> + b |1>) -> a |1> + b |0>.</t>
     </section>

     <section title="Multiple qubits">
       <t>When multiple qubits are combined in a single quantum state the space
       of possible states grows exponentially and all these states can coexist
       in a superposition. For example, the general form of a two-qubit
       register is</t>

       <t>a |00> + b |01> + c |10> + d |11></t>

       <t>where the coefficients have the same probability amplitude
       interpretation as for the single qubit state. Each state represents a
       possible outcome of a measurement of the two-qubit register. For
       example, |01> denotes a state in which the first qubit is in the state
       |0> and the second is in the state |1>.</t>

       <t>Performing single qubit gates affects the relevant qubit in each of
       the superposition states. Similarly, two-qubit gates also act on all the
       relevant superposition states, but their outcome is far more
       interesting.</t>

       <t>Consider a two-qubit register where the first qubit is in the
       superposed state (|0> + |1>)/sqrt(2) and the other is in the state |0>.
       This combined state can be written as:</t>

       <t>(|0> + |1>)/sqrt(2) x |0> = (|00> + |10>)/sqrt(2),</t>

       <t>where x denotes a tensor product (the mathematical mechanism for
       combining quantum states together). Let us now consider the two-qubit
       controlled-NOT, or CNOT, gate. The CNOT gate takes as input two qubits, a
       control and target, and applies the NOT gate to the target if the control
       qubit is set. The truth table looks like</t>

       <texttable>
         <ttcol align="center">IN</ttcol>
         <ttcol align="center">OUT</ttcol>
         <c>00</c><c>00</c>
         <c>01</c><c>01</c>
         <c>10</c><c>11</c>
         <c>11</c><c>10</c>
       </texttable>

       <t>Now, consider performing a CNOT gate on the state with the first
       qubit being the control. We apply a two-qubit gate on all the
       superposition states:</t>

       <t>CNOT (|00> + |10>)/sqrt(2) -> (|00> + |11>)/sqrt(2).</t>

       <t>What is so interesting about this two-qubit gate operation? The final
       state is *entangled*. There is no possible way of representing that
       quantum state as a product of two individual qubits; they are no longer
       independent and the behaviour of either qubit cannot be fully described
       without accounting for the other qubit. The states of the two individual
       qubits are now correlated beyond what is possible to achieve classically.
       Neither qubit is in a definite |0> or |1> state, but if we perform a
       measurement on either one, the outcome of the partner qubit will *always*
       yield the exact same outcome. The final state, whether it's |00> or |11>,
       is fundamentally random as before, but the states of the two qubits
       following a measurement will always be identical.</t>

       <t>Once a measurement is performed, the two qubits are once again
       independent. The final state is either |00> or |11> and both of these
       states can be trivially decomposed into a product of two individual
       qubits. The entanglement has been consumed and if the same measurement
       is to be repeated, the entangled state must be prepared again.</t>
     </section>
   </section>

   <section title="Entanglement as the fundamental resource">

     <t>Entanglement is the fundamental building block of quantum networks.
     Consider the state from the previous section:</t>

     <t>(|00> + |11>)/sqrt(2).</t>

     <t>Neither of the two qubits is in a definite |0> or |1> state and we need
     to know the state of the entire register to be able to fully describe the
     behaviour of the two qubits.</t>

     <t>Entangled qubits have interesting non-local properties. Consider
     sending one of the qubits to another device. This device could in
     principle be anywhere: on the other side of the room, in a different
     country, or even on a different planet. Provided negligible noise has been
     introduced, the two qubits will forever remain in the entangled state
     until a measurement is performed. The physical distance does not matter at
     all for entanglement.</t>

     <t>This lies at the heart of quantum networking, because it is possible to
     leverage the non-classical correlations provided by entanglement in order
     to design completely new types of application protocols that are not
     possible to achieve with just classical communication. Examples of such
     applications are quantum cryptography, blind quantum computation, or
     distributed quantum computation.</t>

     <t>Entanglement has two very special features from which one can derive
     some intuition about the types of applications enabled by a quantum
     network.</t>

     <t>The first stems from the fact that entanglement enables stronger than
     classical correlations, leading to opportunities for tasks that require
     coordination. As a trivial example, consider the problem of consensus
     between two nodes who want to agree on the value of a single bit. They can
     use the quantum network to prepare the state (|00> + |11>)/sqrt(2) with
     each node holding one of the two qubits. Once either of the two nodes
     performs a measurement, the state of the two qubits collapses to either
     |00> or |11>, so whilst the outcome is random and does not exist before
     measurement, the two nodes will always measure the same value. We can also
     build the more general multi-qubit state (|00...> + |11...>)/sqrt(2) and
     perform the same algorithm between an arbitrary number of nodes. These
     stronger than classical correlations generalise to more complicated
     measurement schemes as well.</t>

     <t>The second feature of entanglement is that it cannot be shared, in the
     sense that if two qubits are maximally entangled with each other, then it
     is physically impossible for any other system to have any share of this
     entanglement. Hence, entanglement forms a sort of private and inherently
     untappable connection between two nodes once established.</t>

     <t>Entanglement is created through local interactions between two qubits
     or as a product of the way the qubits were created (e.g. entangled photon
     pairs). To create a distributed entangled state, one can then physically
     send one of the qubits to a remote node. It is also possible to directly
     entangle qubits that are physically separated, but this still requires
     local interactions between some other qubits that the separated qubits are
     initially entangled with. Therefore, it is the transmission of qubits that
     draws the line between a genuine quantum network and a collection of
     quantum computers connected over a classical network.</t>

     <t>A quantum network is defined as a collection of nodes that is able to
     exchange qubits and distribute entangled states amongst themselves. A
     quantum node that is able only to communicate classically with another
     quantum node is not a member of a quantum network.</t>

     <t>More complex services and applications can be built on top of entangled
     states distributed by the network, see e.g. <xref
     target="wehner18"></xref>></t>
   </section>

   <section title="Achieving quantum connectivity">

     <t>This section explains the meaning of quantum connectivity and the
     necessary physical processes at an abstract level.</t>

     <section title="Challenges">

       <t>A quantum network cannot be built by simply extrapolating all the
       classical models to their quantum analogues. One cannot just send qubits
       like one can send bits over a wire. There are several technological as
       well as fundamental challenges that make classical approaches unsuitable
       in a quantum context.</t>

       <section title="The measurement problem">

         <t>In classical computers and networks we can read out the bits stored
         in memory at any time. This is helpful for a variety of purposes such
         as copying, error detection and correction, and so on. This is not
         possible with qubits.</t>

         <t>A measurement of a qubit's state will destroy its superposition and
         with it any entanglement it may have been part of. Once a qubit is
         being processed, it cannot be read out until a suitable point in the
         computation, determined by the protocol handling the qubit, has been
         reached. Therefore, we cannot use the same methods known from
         classical computing for the purposes of error detection and
         correction.</t>

       </section>

       <section title="No-cloning theorem">

         <t>Since directly reading the state of a qubit is not possible, one could
         ask the question if we can simply copy a qubit without looking at it.
         Unfortunately, this is fundamentally not possible in quantum
         mechanics.</t>

         <t>The no-cloning theorem states that it is impossible to create an
         identical copy of an arbitrary, unknown quantum state. Therefore, it is
         also impossible to use the same mechanisms that worked for classical
         networks for signal amplification, retransmission, and so on as they
         all rely on the ability to copy the underlying data. Since any
         physical channel will always be lossy, connecting nodes within a
         quantum network is a challenging endeavour and its architecture must
         at its core address this very issue.</t>

       </section>

       <section title="Fidelity">

         <t>In general, it is expected that a classical packet arrives at its
         destination without any errors introduced by hardware noise along the
         way. This is verified at various levels through a variety of
         checksums. Since we cannot read or copy a quantum state a similar
         approach is out of question for quantum networks.</t>

         <t>To describe the quality of a quantum state, a physical quantity called
         fidelity is used. Fidelity takes a value between 0 and 1 -- higher is
         better, and less than 0.5 means the state is unusable. It measures how
         close a quantum state is to the state we have tried to create. It
         expresses the probability that one state will pass a test to identify
         as the other. Fidelity is an important property of a quantum system
         that allows us to quantify how much a particular state has been
         affected by noise from various sources (gate errors, channel losses,
         environment noise).</t>

         <t>Interestingly, quantum applications do not need perfect fidelity to
         be able to execute -- as long as the fidelity is above some
         application-specific threshold, they will simply operate at lower
         rates. Therefore, rather than trying to ensure that we always deliver
         perfect states (a technologically challenging task) applications will
         specify a minimum threshold for the fidelity and the network will try
         its best to deliver it.</t>

       </section>

     </section>

     <section anchor="dt" title="Direct transmission">

       <t>Conceptually, the most straightforward way to distribute an entangled
       state is to simply transmit one of the qubits directly to the other end
       across a series of nodes while performing sufficient forward quantum
       error correction to bring losses down to an acceptable level. Despite
       the no-cloning theorem and the inability to directly measure a quantum
       state, error-correcting mechanisms for quantum communication exist <xref
       target="mural16"></xref>. However, quantum error correction makes very
       high demands on both resources (physical qubits needed) and their
       initial fidelity. Implementation is very challenging and quantum error
       correction is not expected to be used until later generations of quantum
       networks.</t>

       <t>An alternative relies on the observation that we do not need to be
       able to distribute any arbitrary entangled quantum state. We only need
       to be able to distribute any one of what are known as the Bell pair
       states<xref target="briegel98"></xref>.</t>

     </section>

     <section title="Bell pairs">

       <t>Bell pair states are the entangled two-qubit states:</t>

       <t>
         |00> + |11>,<vspace blankLines="0" />
         |00> - |11>,<vspace blankLines="0" />
         |01> + |10>,<vspace blankLines="0" />
         |01> - |10>,
       </t>

       <t>where the constant 1/sqrt(2) normalisation factor has been ignored
       for clarity. Any of the four Bell pair states above will do, as it is
       possible to transform any Bell pair into another Bell pair with local
       operations performed on only one of the qubits. That is, either of the
       nodes that hold the two qubits of the Bell pair can apply a series of
       single qubit gates to adjust their qubit in order to transform the
       state between the different variants.</t>

       <t>Distributing a Bell pair between two nodes is much easier than
       transmitting an arbitrary quantum state over a network. Since the state
       is known, handling errors becomes easier and small-scale error-correction
       (such as entanglement distillation discussed in a later section)
       combined with reattempts becomes a valid strategy.</t>

       <t>The reason for using Bell pairs specifically as opposed to any other
       two-qubit state, is that they are the maximally entangled two-qubit set
       of basis states. Maximal entanglement means that these states have the
       strongest non-classical correlations of all possible two-qubit states.
       Furthermore, since single-qubit local operations can never increase
       entanglement, less entangled states would impose some constraints on
       distributed quantum algorithms. This makes Bell pairs particularly
       useful as a generic building block for distributed quantum
       applications.</t>

     </section>

     <section title="Teleportation">

       <t>The observation that we only need to be able to distribute Bell pairs
       relies on the fact that this enables the distribution of any other
       arbitrary entangled state. This can be achieved via quantum state
       teleportation. Quantum state teleportation consumes an unknown quantum
       state that we want to transmit and recreates it at the desired
       destination. This does not violate the no-cloning theorem as the
       original state is destroyed in the process.</t>

       <t>To achieve this, an entangled pair needs to be distributed between the
       source and destination before teleportation commences. The source then
       entangles the transmission qubit with its end of the pair and performs a
       read out of the two qubits (the sum of these operations is called a Bell
       state measurement). This consumes the Bell pair's entanglement, turning
       the source and destination qubits into independent states. The
       measurements yields two classical bits which the source sends to the
       destination over a classical channel. Based on the value of the received
       two classical bits, the destination performs one of four possible
       corrections (called the Pauli corrections) on its end of the pair which
       turns it into the unknown quantum state that we wanted to transmit.</t>

       <t>The unknown quantum state that was transmitted was never fed into the
       network itself. Therefore, the network needs to only be able to reliably
       produce Bell pairs between any two nodes in the network.</t>

     </section>

     <section title="The life cycle of entanglement">

       <t>Reducing the problem of quantum connectivity to one of generating a Bell
       pair has facilitated the problem, but it has not solved it. In this
       section, we discuss how these entangled pairs are generated in the first
       place, and how their two qubits are delivered to the end-points.</t>

       <section anchor="elg" title="Elementary link generation">

         <t>In a quantum network, entanglement is always first generated
         locally (at a node or an auxiliary element) followed by a movement of
         one or both of the entangled qubits across the link through quantum
         channels. In this context, photons (particles of light) are the
         natural candidate for entanglement carriers, called flying
         qubits. The rationale for this choice is related to the advantages
         provided by photons such as moderate interaction with the environment
         leading to moderate decoherence, convenient control with standard
         optical components, and high-speed, low-loss transmissions. However,
         since photons cannot be stored, a transducer must transfer the flying
         qubit's state to a qubit suitable for information processing and/or
         storage (often referred to as a matter qubit).</t>

         <t>Since this process may fail, in order to generate and store
         entanglement efficiently, we must be able to distinguish successful
         attempts from failures. Entanglement generation schemes that are able
         to announce successful generation are called heralded entanglement
         generation schemes.</t>

         <t>There exist three basic schemes for heralded entanglement
         generation on a link through coordinated action of the two nodes at
         the two ends of the link <xref target="cacc19"></xref>:</t>

         <t>
           <list style="symbols">

             <t>"At mid-point" scheme: the key idea is that an entangled photon
             pair source sitting midway between the two nodes with matter qubits
             sends an entangled photon through a quantum channel to each of the
             nodes, where transducers are invoked to transfer the entanglement
             from the flying qubits to the matter qubits. In this scheme, the
             transducers know if the transfers succeeded and are able to herald
             successful entanglement generation via a message exchange over the
             classical channel.</t>

             <t>"At source" scheme: the key idea is that one of the two nodes
             sends a flying qubit that is entangled with one of its matter
             qubits. A transducer at the other end of the link will transfer
             the entanglement from the flying qubit to one of its matter
             qubits. Also in this scheme, the transducer knows if its transfer
             succeeded and is able to herald successful entanglement generation
             with a classical message sent to the other node.</t>

             <t>"At both end-points" scheme: the key idea is that both nodes
             send a flying qubit that is entangled with one of their matter
             qubits. A detector somewhere in between the nodes performs a joint
             measurement on the two qubits, which stochastically projects the
             remote matter qubits into an entangled quantum state. In this
             scheme, the detector knows if the entanglement succeeded and is
             able to herald successful entanglement generation by sending a
             message to each node over the classical channel.</t>

           </list>
         </t>

         <t>The "mid-point source" scheme is more robust to photon loss, but in the
         other schemes the nodes retain greater control over the entangled pair
         generation.</t>

         <t> Note that whilst photons travel in a particular direction through
         the quantum channel, but the resulting entangled pair of qubits does
         not have a direction associated with it. Physically, there is no
         upstream or downstream end of the pair.</t>

       </section>

       <section anchor="es" title="Entanglement swapping">

         <t>The problem with generating entangled pairs directly across a link
         is that efficiency decreases with channel length. Beyond a few 10s of
         kms in optical fibre or 1000 kms in free space (via satellite) the
         rate is effectively zero and due to the no-cloning theorem we cannot
         simply amplify the signal. The solution is entanglement swapping.</t>

         <t>A Bell pair between any two nodes in the network can be constructed
         by combining the pairs generated along each individual link on a
         path between the two end-points. Each node along the path can consume
         the two pairs on the two links that it is connected to in order to
         produce a new entangled pair between the two remote ends. This process
         is known as entanglement swapping. Pictorially it can be represented
         as follows:</t>

         <figure align="center">
           <artwork align="left"><![CDATA[
+---------+      +---------+      +---------+
|    A    |      |    B    |      |    C    |
|         |------|         |------|         |
|      X1~~~~~~~~~~X2   Y1~~~~~~~~~~Y2      |
+---------+      +---------+      +---------+
           ]]></artwork>
         </figure>

         <t>where X1 and X2 are the qubits of the entangled pair X and Y1 and
         Y2 are the qubits of entangled pair Y. The entanglement is denoted
         with ~~. In the diagram above, nodes A and B share the pair X and nodes
         B and C share the pair Y, but we want entanglement between A and
         C.</t>

         <t>To achieve this goal, we simply teleport the qubit X2 using the pair Y.
         This requires node B to perform a Bell state measurement on the
         qubits X2 and Y1 which result in the destruction of the entanglement
         between Y1 and Y2. However, X2 is recreated in Y2's
         place, carrying with it its entanglement with X1. The end-result is
         shown below:</t>

         <figure align="center">
           <artwork align="left"><![CDATA[
+---------+      +---------+      +---------+
|    A    |      |    B    |      |    C    |
|         |------|         |------|         |
|      X1~~~~~~~~~~~~~~~~~~~~~~~~~~~X2      |
+---------+      +---------+      +---------+
           ]]></artwork>
         </figure>

         <t>Depending on the needs of the network and/or application, a final Pauli
         correction at the recipient node may not be necessary since the result
         of this operation is also a Bell pair. However, the two classical bits
         that form the read out from the measurement at node B must still be
         communicated, because they carry information about which of the four
         Bell pairs was actually produced. If a correction is not performed,
         the recipient must be informed which Bell pair was received.</t>

         <t>This process of teleporting Bell pairs using other entangled pairs
         is called entanglement swapping. Quantum nodes that create
         long-distance entangled pairs via entanglement swapping are called
         quantum repeaters in academic literature <xref
         target="briegel98"></xref> and we will use the same terminology in
         this memo.</t>

       </section>

       <section title="Distillation">

         <t>Neither the generation of Bell pairs nor the swapping operations
         are noiseless operations. Therefore, with each link and each swap the
         fidelity of the state degrades. However, it is possible to create
         higher fidelity Bell pair states from two or more lower fidelity pairs
         through a process called distillation (sometimes also referred to as
         purification).</t>

         <t>To distil a quantum state, a second (and sometimes third) quantum
         state is used as a "test tool" to test a proposition about the first
         state, e.g., "the parity of the two qubits in the first state is even."
         When the test succeeds, confidence in the state is improved, and thus
         the fidelity is improved. The test tool states are destroyed in the
         process, so resource demands increase substantially when distillation
         is used. When the test fails, the tested state must also be discarded.
         Distillation makes low demands on fidelity and resources compared to
         quantum error correction, but distributed protocols incur round-trip
         delays <xref target="epp"></xref>.</t>

       </section>

       <section title="Delivery">

         <t>Eventually, the Bell pairs must be delivered to an application (or
         higher layer protocol) at the two end-nodes. A detailed list of such
         requirements is beyond the scope of this memo. At minimum, the
         end-nodes require information to map a particular Bell pair to the
         qubit in their local memory that is part of this entangled pair.</t>

       </section>

     </section>

   </section>

   <section title="Architecture of a quantum internet">

     <t>It is evident from the previous sections that the fundamental service
     provided by a quantum network significantly differs from that of a
     classical network. Therefore, it is not surprising that the architecture
     of a quantum internet will itself be very different from that of the
     classical Internet.</t>

     <section title="New challenges">

       <t>This subsection covers the major fundamental challenges building
       quantum networks. Here, we only describe the fundamental differences.
       Technological limitations are described later.</t>

       <t>
         <list style="numbers">
           <t>Bell pairs are not equivalent to payload carrying packets.
           <vspace blankLines="1" />

           In most classical networks, including Ethernet, Internet Protocol
           (IP), and Multi-Protocol Label Switching (MPLS) networks, user data
           is grouped into packets. In addition to the user data, each packet
           also contains a series of headers which contain the control
           information that lets routers and switches forward it towards its
           destination. Packets are the fundamental unit in a classical
           network.
           <vspace blankLines="1" />

           In a quantum network, the entangled pairs of qubits are the basic
           unit of networking. These pairs are handled individually -- they are
           not grouped into packets and they do not carry any headers.
           Therefore, quantum networks will have to send all control
           information via separate classical channels which the repeaters will
           have to correlate with the qubits stored in their memory.</t>

           <t> First generations of quantum networks will not be store-and-forward
           networks.
           <vspace blankLines="1" />

           As described in <xref target="elg"></xref>, quantum links provide
           Bell pairs that are undirected network resources, in contrast to
           directed frames of classical networks. This phenomenological
           distinction should result in architectural differences between
           quantum networks and classical networks; quantum networks combine
           multiple elementary link Bell pairs together to create one an
           end-to-end Bell pair, whereas classical networks deliver messages from
           one end to the other end hop by hop.
           <vspace blankLines="1" />

           Classical networks receive data on one interface, store it in local
           buffers, then forward the data to another appropriate interface.
           Quantum networks store Bell pairs and then execute entanglement
           swapping instead of forwarding in the data plane. Such quantum
           networks are "store and swap" networks. In "store and swap"
           networks, we do not need to care about the order in which the Bell
           pairs were generated since they are undirected. This distinction
           makes control algorithms and optimization of quantum networks
           different from classical ones.</t>

           <t>An entangled pair is only useful if the locations of both qubits
           are known.
           <vspace blankLines="1" />

           A classical network packet logically exists only at one location at
           any point in time. If a packet is modified in some way, whether
           headers or payload, this information does not need to be conveyed to
           anybody else in the network. The packet can be simply forwarded as
           before. <vspace blankLines="1" />

           In contrast, entanglement is a phenomenon in which two or more
           qubits exist in a physically distributed state. Operations on one of
           the qubits change the mutual state of the pair. Since the owner of a
           particular qubit cannot just read out its state, it must coordinate
           all its actions with the owner of the pair's other qubit. Therefore,
           the owner of any qubit that is part of an entangled pair must know
           the location of its counterpart. Location, in this context, need not
           be the explicit spatial location. A relevant pair identifier, a
           means of communication between the pair owners, and an association
           between the pair ID and the individual qubits is sufficient.</t>

           <t>Generating entanglement requires temporary state.
           <vspace blankLines="1" />

           Packet forwarding in a classical network is largely a stateless
           operation. When a packet is received, the router looks up its
           forwarding table and sends the packet out of the appropriate output.
           There is no need to keep any memory of the packet any more.
           <vspace blankLines="1" />

           A quantum node must be able to make decisions about qubits that it
           receives and is holding in its memory. Since qubits do not carry
           headers, the receipt of an entangled pair conveys no control
           information based on which the repeater can make a decision. The
           relevant control information will arrive separately over a classical
           channel. This implies that a repeater must store temporary state as
           the control information and the qubit it pertains to will, in
           general, not arrive at the same time.</t>

         </list>
       </t>

     </section>

     <section title="Classical communication">

       <t>In this memo we have already covered two different roles that classical
       communication must perform:</t>

       <t>
         <list style="symbols">

           <t>communicate classical bits of information as part of distributed
           protocols such as entanglement swapping and teleportation,</t>

           <t>communicate control information within a network, including
           both background protocols such as routing as well as signalling
           protocols to set up end-to-end entanglement generation.</t>

         </list>
       </t>

       <t>Classical communication is a crucial building block of any quantum
       network. All nodes in a quantum network are assumed to have classical
       connectivity with each other (within typical administrative domain
       limts). Therefore, quantum routers will need to manage two data planes
       in parallel, a classical one and a quantum one. Additionally, a node must be
       able to correlate information between the two planes so that the control
       information received on a classical channel can be applied to the qubits
       managed by the quantum data plane.</t>

     </section>

     <section title="Abstract model of the network">

       <section title="Elements of a quantum network">

         <t>We have identified quantum repeaters as the core building block of
         a quantum network. However, a quantum repeater will have to do more
         than just entanglement swapping in a functional quantum network. Its
         key responsibilities will include:</t>

         <t>
           <list style="numbers">

             <t>Creating link-local entanglement between neighbouring
             nodes.</t>

             <t>Extending entanglement from link-local pairs to long-range
             pairs through entanglement swapping.</t>

             <t>Performing distillation to manage the fidelity of the produced
             pairs.</t>

             <t>Participating in the management of the network (routing,
             etc.).</t>

           </list>
         </t>

         <t>Not all quantum repeaters in the network will be the same; here we
         break them down further:</t>

         <t>
           <list style="symbols">

             <t>Quantum routers (controllable quantum nodes) - A quantum router
             is a quantum repeater with a control plane that participates in
             the management of the network and will make decisions about which
             qubits to swap to generate the requested end-to-end pairs.</t>

             <t>Automated quantum nodes - An automated quantum node is a data
             plane only quantum repeater that does not participate in network
             management. Since the no-cloning theorem precludes the use of
             amplification, long-range links will be established by chaining
             multiple such automated nodes together.</t>

             <t>End-nodes - End-nodes in a quantum network must be able to
             receive and handle an entangled pair, but they do not need to be
             able to perform an entanglement swap (and thus are not necessarily
             quantum repeaters). End-nodes are also not required to have any
             quantum memory as certain quantum applications can be realised by
             having the end-node measure its qubit as soon as it is
             received.</t>

             <t>Non-quantum nodes - Not all nodes in a quantum network need to
             have a quantum data plane. A non-quantum node is any device that
             can handle classical network traffic.</t>

           </list>
         </t>

         <t>Additionally, we need to identify two kinds of links that will
         be used in a quantum network:</t>

         <t>
           <list style="symbols">

             <t>Quantum links - A quantum link is a link which can be used to
             generate an entangled pair between two directly connected quantum
             repeaters. It may include a dedicated classical channel that is to
             be used solely for the purpose of coordinating the entanglement
             generation on this quantum link.</t>

             <t>Classical links - A classical link is a link between any node
             in the network that is capable of carrying classical network
             traffic.</t>

           </list>
         </t>

       </section>

       <section title="Putting it all together">

         <t>A two-hop path in a generic quantum network can be represented
         as:</t>

         <figure align="center">
           <artwork align="left"><![CDATA[
| App |-------------------CC-------------------| App |
   ||                                            ||
 ------                 ------                 ------
|  EN  |----QC & CC----|  QR  |----QC & CC----|  EN  |
 ------                 ------                 ------

App - user-level application
QR - quantum repeater
EN - end-node
QC - quantum channel
CC - classical channel
           ]]></artwork>
         </figure>

         <t>An application running on two end-nodes attached to a network will at
         some point need the network to generate entangled pairs for its use.
         This will require negotiation between the end-nodes, because they must
         both open a communication end-point (a quantum socket) which the
         network can use to identify the two ends of the connection. The two
         end-nodes use the classical connectivity available in the network to
         achieve this goal.</t>

         <t>When the network receives a request to generate end-to-end entangled
         pairs it uses the classical communication channels to coordinate and
         claim the resources necessary to fulfill this request. This may be some
         combination of prior control information (e.g. routing tables) and
         signalling protocols, but the details of how this is achieved are an
         active research question and thus beyond the scope of this memo.</t>

         <t>During or after the distribution of control information, the network
         performs the necessary quantum operations such as generating entanglement
         over individual links, performing entanglement swaps, and further
         signalling to transmit the swap outcomes and other control
         information. Since none of the entangled pairs carry any user data,
         some of these operations can be performed before the request is
         received in anticipation of the demand.</t>

         <t>The entangled pair is delivered to the application once it is ready,
         together with the relevant pair identifier. However, being ready does
         not necessarily mean that all link pairs and entanglement swaps are
         complete, as some applications can start executing on an incomplete
         pair. In this case the remaining entanglement swaps will propagate the
         actions across the network to the other end, sometimes necessitating fixup operations at the end node.</t>

       </section>

     </section>

     <section title="Network boundaries">

       <t>Just like classical networks, various boundaries will exist in
       quantum networks.</t>

       <section title="Boundaries between different physical architectures">

         <t>There are many different physical architectures for implementing
         quantum repeater technology. The different technologies differ in how
         they store and manipulate qubits in memory and how they generate
         entanglement across a link with their neighbours. Different
         architectures come with different trade-offs and thus a functional
         network will likely consist of a mixture of different types of quantum
         repeaters.</t>

         <t>For example, architectures based on optical elements and atomic
         ensembles are very efficient at generating entanglement, but provide
         little control over the qubits once the pair is generated. On the
         other hand, nitrogen-vacancy architectures offer a much greater degree
         of control over qubits, but have a harder time generating the
         entanglement across a link.</t>

         <t>It is an open research question where exactly the boundary will lie.
         It could be that a single quantum repeater node provides some
         backplane connection between the architectures, but it also could be
         that special quantum links delineate the boundary.</t>

       </section>

       <section title="Boundaries between different administrative regions">

         <t>Just like in classical networks, multiple quantum networks will
         connect into a global quantum internet. This necessarily implies the
         existence of borders between different administrative regions. How
         these boundaries will be handled is also an open question and thus
         beyond the scope of this memo.</t>

       </section>

     </section>

     <section title="Physical constraints">
       <t>The model above has effectively abstracted away the particulars of
       the hardware implementation. However, certain physical constraints need
       to be considered in order to build a practical network. Some of these
       are fundamental constraints and no matter how much the technology
       improves, they will always need to be addressed. Others are artefacts of
       the early stages of a new technology. Here, we consider a highly
       abstract scenario and refer to <xref target="wehner18"/> for pointers to
       the physics literature.</t>

       <section title="Memory lifetimes">
         <t>In addition to discrete operations being imperfect, storing a qubit
         in memory is also highly non-trivial. The main difficulty in achieving
         persistent storage is that it is extremely challenging to isolate a
         quantum system from the environment. The environment introduces an
         uncontrollable source of noise into the system which affects the
         fidelity of the state. This process is known as decoherence.
         Eventually, the state has to be discarded once its fidelity degrades
         too much.</t>

         <t>The memory lifetime depends on the particular physical setup, but
         the highest achievable values currently are on the order of seconds.
         These values have increased tremendously over the lifetime of the
         different technologies and are bound to keep increasing. However, if
         quantum networks are to be realised in the near future, they need to
         be able to handle short memory lifetimes, for example by reducing
         latency on critical paths.</t>
       </section>

       <section title="Rates">
         <t>Entanglement generation on a link between two connected nodes is
         not a very efficient process and it requires many attempts to succeed.
         A fast repetition rate for Bell pair generation is achievable, but
         only a small fraction will succeed. Currently, the highest achievable
         rates of success between nodes capable of storing the resulting qubits
         are on the order of 10 Hz. Combined with short memory lifetimes this
         leads to very tight timing windows to build up network-wide
         connectivity.</t>
       </section>

       <section title="Communication qubits">
         <t>Most physical architectures capable of storing qubits are only able
         to generate entanglement using only a subset of its available qubits
         called communication qubits. Once a Bell pair has been generated using
         a communication qubit, its state can be transferred into memory. This
         may impose additional limitations on the network. In particular if a
         given node has only one communication qubit it cannot simultaneously
         generate Bell Pairs over two links. It must generate entanglement over
         the links one at a time.</t>
       </section>

       <section title="Homogeneity">
         <t>Currently all hardware implementations are homogeneous and they do
         not interface with each other. In general, it is very challenging to
         combine different quantum information processing technologies at
         present. Coupling different technologies with each other is of great
         interest as it may help overcome the weaknesses of the different
         implementations, but this may take a long time to be realised with
         high reliability and thus is not a near-term goal.</t>
       </section>
     </section>
   </section>

   <section title="Architectural principles">
     <t>Given that the most practical way of realising quantum network
     connectivity is using Bell Pair and entanglement swapping repeater
     technology, what sort of principles should guide us in assembling such
     networks such that they are functional, robust, efficient, and most
     importantly, they work? Furthermore, how do we design networks so that
     they work under the constraints imposed by the hardware available today,
     but do not impose unnecessary burdens on future technology?</t>

     <t>As this is a completely new technology that is likely to see many
     iterations over its lifetime, this memo must not serve as a definitive set
     of rules, but merely as a general set of recommended guidelines for the
     first generations of quantum networks based on principles and observations
     made by the community. The benefit of having a community built document at
     this early stage is that expertise in both quantum information and network
     architecture is needed in order to successfully build a quantum
     internet.</t>

     <section title="Goals of a quantum internet">
       <t>When outlining any set of principles we must ask ourselves what goals
       do we want to achieve as inevitably trade-offs must be made. So what
       sort of goals should drive a quantum network architecture? The following
       list has been inspired by the history of the classical Internet, but it
       will inevitably evolve with time and the needs of its users. The goals
       are listed in order of priority which in itself may also evolve as the
       community learns more about the technology.</t>

       <t>
         <list style="numbers">
           <t>Support distributed quantum applications
           <vspace blankLines="1" />

           This goal seems trivially obvious, but makes a subtle, but important
           point which highlights a key difference between quantum and
           classical networks. Ultimately, quantum data transmission is not the
           goal of a quantum network - it is only one possible component of
           more advanced quantum application protocols. Whilst transmission
           certainly could be used as a building block for all quantum
           applications, it is certainly not the most basic one possible. For
           example, QKD, the most well known quantum application protocol, only
           relies on the stronger-than-classical correlations and inherent
           secrecy of entangled Bell pairs and does not transmit arbitrary
           quantum states.
           <vspace blankLines="1" />

           The primary purpose of a quantum internet is to support distributed
           quantum application protocols and it is of utmost importance that
           they can run well and efficiently. Thus, it is important to develop
           performance metrics meaningful to application to drive the
           development of quantum network protocols. For example, the Bell pair
           generation rate is meaningless if one does not also consider their
           fidelity. It is generally much easier to generate pairs of lower
           fidelity, but quantum applications may have to make multiple
           re-attempts or even abort if the fidelity is too low. A review of
           the requirements for different known quantum applications can be
           found in <xref target="wehner18"></xref>.</t>

           <t>Support tomorrow's distributed quantum applications
           <vspace blankLines="1" />

           Early-stage quantum networks will be very limited in terms of their
           capabilities and will only be able to run a limited set of
           applications. As quantum repeater technology becomes more advanced
           and acquires more sophisticated capabilities, new applications will
           become possible. The different stages of this development are
           described in <xref target="wehner18"></xref>.
           <vspace blankLines="1" />

           Therefore, it is important that any proposed architecture for
           general purpose quantum repeater networks should not constrain their
           potential capabilities for the benefit of being able to run
           early-stage applications more efficiently. For example, it is
           already possible to run QKD efficiently on metropolitan scales and
           such networks are already commercially available. However, they are
           not based on quantum repeaters and thus will not be able to easily
           transition to more sophisticated applications.</t>

           <t>Support hardware heterogeneity
           <vspace blankLines="1" />

           There are multiple proposals for realising practical quantum
           repeater hardware and they all have their advantages and
           disadvantages. Some may offer higher Bell pair generation rates on
           individual links at the cost of more difficult entanglement swap
           operations. Other platforms may be good all around, but are more
           difficult to build.
           <vspace blankLines="1" />

           Whilst conceptually they are all capable of the same tasks the
           optimal network configuration will likely leverage the advantages of
           multiple platforms to optimise the provided service. Therefore, it
           is an explicit goal to incorporate varied hardware support from the
           beginning.</t>

           <t>Be flexible with regards to hardware capabilities and limitations
           <vspace blankLines="1" />

           This goal encompasses two important points. First, the architecture
           should be able to function under the physical constraints imposed by
           the current generation hardware. Second, it should not make it
           difficult to run the network over any hardware that may come along
           in the future. The physical capabilities of repeaters will improve
           and redeploying a technology is extremely challenging.</t>

           <t>Ensure security at the network level
           <vspace blankLines="1" />

           Whilst the priority for the first quantum networks should be to
           simply work, we cannot forget that ultimately they have to also be
           secure. This is particularly important for quantum networks given
           that one of the key driving factors for the technology is the
           enhance security offered by quantum entanglement. This has
           implications for the physical realisations (do they satisfy the
           idealised theoretical models) and also the design of the control
           stack.
           <vspace blankLines="1" />

           It is actually difficult to guarantee security at the network level
           and even if the network did provide such guarantees, the application
           would still need to perform its own verification similarly to how
           one ensures end-to-end security in classical networks.
           <vspace blankLines="1" />

           It turns out that as long as the underlying implementation
           corresponds to (or sufficiently approximates) theoretical models of
           quantum cryptography, quantum cryptographic protocols do not need
           the network to provide any guarantees about the authenticity,
           confidentiality, or integrity of the transmitted qubits or the
           generated entanglement. Instead, applications, such as QKD,
           establish such guarantees using the classical network in conjunction
           with the quantum one. This is much easier than demanding that the
           network deliver secure entanglement in the first place.
           <vspace blankLines="1" />

           Nevertheless, control protocols themselves should be security aware
           in order to protect the operation of the network itself and limit
           disruption. This will primarily involve securing the classical
           control and management traffic by means of authentication and
           possibly encryption.</t>

           <t>Make them easy to manage and monitor
           <vspace blankLines="1" />

           The fundamental unit of quantum information, the qubit, cannot be
           actively monitored as any readout irreversibly destroys its
           contents. Furthermore, given one end of an entangled pair, it is
           impossible to tell where the other qubit is without any additional
           information. Therefore, monitoring quantum networks will be more
           challenging and more important if any meaningful network management
           solution is to be developed.</t>

           <t>Ensure availability and resilience
           <vspace blankLines="1" />

           A practical and usable network is able to continue to operate
           despite losses and failures, and will be robust to malicious actors
           trying to disable connectivity. These may be simply considered
           different aspects of security, but it is worthwhile to address them
           explicitly at the architectural level already. The coexistence of
           two separate channels, a quantum and a classical one, will likely
           prove to be challenging.</t>

         </list>
       </t>
     </section>

     <section title="The principles of a quantum internet">

       <t>The principles support the goals, but are not goals themselves. The
       goals define what we want to build and the principles provide a
       guideline in how we might achieve this. The goals will also be the
       foundation for defining any metric of success for a network
       architecture, whereas the principles in themselves do not distinguish
       between success and failure. For more information about design
       considerations for quantum networks see <xref target="van-meter13"></xref>
       <xref target="dahlberg18"></xref> .</t>

       <t>
         <list style="numbers">
           <t>Bell Pairs are the fundamental building block
           <vspace blankLines="1" />

           The key service that a quantum network provides is the distribution
           of entanglement between the nodes in a network. This point
           additionally specifies that the entanglement is primarily
           distributed in the form of the entangled Bell Pair states which
           should be used as a building block in providing other services,
           including more complex entangled states.</t>

           <t>Bell Pairs are indistinguishable
           <vspace blankLines="1" />

           Any two Bell Pairs between the same two nodes are indistinguishable
           for the purposes of an application provided they both satisfy its
           required fidelity threshold. This point is crucial in enabling the
           reuse of resources of a network and for the purposes of provisioning
           resources to meet application demand. However, the qubits that make
           up the pair themselves are not indistinguishable and the two nodes
           operating on a pair must coordinate to make sure they are operating
           on qubits that belong to the same Bell Pair.</t>

           <t>Fidelity is part of the service
           <vspace blankLines="1" />

           In addition to being able to deliver Bell Pairs to the communication
           end-points, the Bell Pairs must be of sufficient fidelity. Unlike in
           classical networks where errors are effectively eliminated for
           most application protocols, many quantum applications only need
           imperfect entanglement to function. However, different applications
           will have different requirements for what fidelity they can work
           with. It is the network's responsibility to balance the resource
           usage with respect to the application's requirements. It may be that
           it is cheaper for the network to provide lower fidelity pairs that
           are just above the threshold required by the application than it is
           to guarantee high fidelity pairs to all applications regardless of
           their requirements.</t>

           <t>Time is part of the service
           <vspace blankLines="1" />

           With the current technology, time is the most expensive resource. It
           is not the only resource that is in short supply (memory, and
           communication qubits are as well), but ultimately it is the lifetime
           of quantum memories that imposes the most difficult conditions for
           operating an extended network of quantum nodes. Current hardware has
           low rates of Bell Pair generation, short memory lifetimes, and
           access to a limited number of communication qubits. All these
           factors combined mean that even a short waiting queue at some node
           could be enough for the Bell Pairs to decohere.</t>

         </list>
       </t>
     </section>
   </section>

   <section title="Comparison with classical networks">

     <t>Creating end-to-end Bell pairs between remote end-points is a stateful
     distributed task that requires a lot of a-priori coordination. Therefore,
     a connection-oriented approach seems the most natural for quantum
     networks. In this section, we discuss a plausible quantum network
     architecture inspired by MPLS. This is not an architecture proposal, but a
     thought experiment to give the reader an idea of what components are
     necessary for a functional quantum network. We use classical MPLS as a
     basis as it is well known and understood in the networking community.</t>

     <t>In connection-oriented quantum networks, when two quantum application
     end-points wish to start creating end-to-end Bell pairs, they must first
     create a quantum virtual circuit (QVC). As an analogy, in MPLS networks
     end-points must establish a label switched path (LSP) before exchanging
     traffic. Connection-oriented quantum networks may also support virtual
     circuits with multiple end-points for creating multipartite entanglement.
     As an analogy, MPLS networks have the concept of multi-point LSPs for
     multicast.</t>

     <t>When a quantum application creates a quantum virtual circuit, it can
     indicate quality of service (QoS) parameters such as the required capacity
     in end-to-end Bell pairs per second (BPPS) and the required fidelity of
     the Bell pairs. As an analogy, in MPLS networks applications specify the
     required bandwidth in bits per second (BPS) and other constraints when
     they create a new LSP.</t>

     <t>Quantum networks need a routing function to compute the optimal path
     (i.e. the best sequence of routers and links) for each new quantum virtual
     circuit. The routing function may be centralized or distributed. In the
     latter case, the quantum network needs a distributed routing protocol. As
     an analogy, classical networks use routing protocols such as open shortest
     path first (OSPF) and intermediate-system to intermediate system
     (ISIS).</t>

     <t>Given the very scarce availability of resources in early quantum
     networks, a traffic engineering function is likely to be beneficial.
     Without traffic engineering, quantum virtual circuits always use the
     shortest path. In this case, the quantum network cannot guarantee that
     each quantum end-point will get its Bell pairs at the required rate or
     fidelity. This is analogous to "best effort" service in classical
     networks.</t>

     <t>With traffic engineering, quantum virtual circuits choose a path that
     is guaranteed to have the requested resources (e.g. bandwidth in BPPS)
     available, taking into account the capacity of the routers and links and
     taking into account the resources already consumed by other virtual
     circuits. As an analogy, both OSPF and ISIS have traffic engineering (TE)
     extensions to keep track of used and available resources, and can use
     constrained shortest path first (CSPF) to take resource availability and
     other constraints into account when computing the optimal path.</t>

     <t>The use of traffic engineering implies the use of call admission
     control (CAC): the network denies any virtual circuits for which it cannot
     guarantee the requested quality of service a-priori. Or alternatively, the
     network pre-empts lower priority circuits to make room for the new
     one.</t>

     <t>Quantum networks need a signaling function: once the path for a quantum
     virtual circuit has been computed, signaling is used to install the
     "forwarding rules" into the data plane of each quantum router on the path.
     The signaling may be distributed, analogous to the resource reservation
     protocol (RSVP) in MPLS. Or the signaling may be centralized, similar to
     OpenFlow.</t>

     <t>Quantum networks need an abstraction of the hardware for specifying the
     forwarding rules. This allows us to de-couple the control plane (routing
     and signaling) from the data plane (actual creation of Bell pairs). The
     forwarding rules are specified using abstract building blocks such as
     "creating local Bell pairs", "swapping Bell pairs", "distillation of Bell
     pairs". As an analogy, classical networks use abstractions that are based
     on match conditions (e.g. looking up header fields in tables) and actions
     (e.g. modifying fields or forwarding a packet to a specific interface).
     The data-plane abstractions in quantum networks will be very different
     from those in classical networks due to the fundamental differences in
     technology and the stateful nature of quantum networks. In fact, choosing
     the right abstractions will be one of the biggest challenges when
     designing interoperable quantum network protocols.</t>

     <t>In quantum networks, control plane traffic (routing and signaling
     messages) is exchanged over a classical channel, whereas data plane
     traffic (the actual Bell pair qubits) is exchanged over a separate quantum
     channel. This is in contrast to most classical networks, where control
     plane traffic and data plane traffic share the same channel and where a
     single packet contains both user fields and header fields. There is,
     however, a classical analogy to the way quantum networks work. Generalized
     MPLS (GMPLS) networks use separate channels for control plane traffic and
     data plane traffic. Furthermore, GMPLS networks support data planes where
     there is no such thing as data plane headers (e.g. DWDM or TDM
     networks).</t>

   </section>

   <section anchor="Security" title="Security Considerations">
     <t>Even though no user data enters a quantum network, security is listed as
     an explicit goal for the architecture and this issue is addressed in the
     section on goals. Even though user data doesn't enter the network, it is
     still possible to attack the control protocols and violate the
     authenticity, confidentiality, and integrity of communication. However, as
     this is an informational memo it does not propose any concrete mechanisms
     to achieve these goals.</t>

     <t>In summary:</t>

     <t>As long as the underlying implementation corresponds to (or
     sufficiently approximates) theoretical models of quantum cryptography,
     quantum cryptographic protocols do not need the network to provide any
     guarantees about the authenticity, confidentiality, or integrity of the
     transmitted qubits or the generated entanglement. Instead, applications
     such as QKD establish such guarantees using the classical network in
     conjunction with he quantum one. This is much easier than demanding that
     the network deliver secure entanglement.</t>

   </section>

   <section anchor="IANA" title="IANA Considerations">
     <t>This memo includes no request to IANA.</t>
   </section>

   <!-- Possibly a 'Contributors' section ... -->

   <section anchor="Acknowledgements" title="Acknowledgements">
     <t>The authors of this memo acknowledge funding received from the EU
     Flagship on Quantum Technologies through Quantum Internet Alliance
     project.</t>

     <t>The authors would further like to acknowledge Carlo Delle Donne,
     Matthew Skrzypczyk, and Axel Dahlberg for useful discussions on this topic
     prior to the submission of this memo.</t>
   </section>

 </middle>

 <!--  *****BACK MATTER ***** -->

 <back>
   <!-- References split into informative and normative -->

   <!-- There are 2 ways to insert reference entries from the citation libraries:
    1. define an ENTITY at the top, and use "ampersand character"RFC2629; here (as shown)
    2. simply use a PI "less than character"?rfc include="reference.RFC.2119.xml"?> here
       (for I-Ds: include="reference.I-D.narten-iana-considerations-rfc2434bis.xml")

    Both are cited textually in the same manner: by using xref elements.
    If you use the PI option, xml2rfc will, by default, try to find included files in the same
    directory as the including file. You can also define the XML_LIBRARY environment variable
    with a value containing a set of directories to search.  These can be either in the local
    filing system or remote ones accessed by http (http://domain/dir/... ).-->

   <references title="Informative References">
     <!--?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml"?-->

     <reference anchor="bennett14" target="http://www.sciepub.com/reference/53249">
       <front>
         <title>Quantum cryptography: Public key distribution and coin
         tossing</title>

         <author initials="C.H" surname="Bennett" />
         <author initials="G" surname="Brassard" />

         <date year="2014" />
       </front>
       <seriesInfo name="Theoretical Computer Science" value="560, 7-11" />
     </reference>

     <reference anchor="crep02" target="https://arxiv.org/abs/quant-ph/0206138">
       <front>
         <title>Secure multi-party quantum computation. Proceedings of
         Symposium on Theory of Computing</title>

         <author initials="C" surname="Crepeau" />
         <author initials="D" surname="Gottesman" />
         <author initials="A" surname="Smith" />

         <date year="2002" />
       </front>
       <seriesInfo name="Proceedings of Symposium on Theory of Computing" value="" />
     </reference>

     <reference anchor="giov04" target="https://arxiv.org/abs/quant-ph/0412078">
       <front>
         <title>Quantum-enhanced measurements: beating the standard quantum
         limit</title>

         <author initials="V" surname="Giovanetti" />
         <author initials="S" surname="Lloyd" />
         <author initials="L" surname="Maccone" />

         <date year="2004" />
       </front>
       <seriesInfo name="Science" value="306(5700), 1330-1336" />
     </reference>

     <reference anchor="castel18" target="https://www.nature.com/articles/d41586-018-01835-3">
       <front>
         <title>The Quantum Internet has arrived (and it hasn't)</title>

         <author initials="D" surname="Castelvecchi" />

         <date year="2018" />
       </front>
       <seriesInfo name="Nature" value="554, 289-292" />
     </reference>

     <reference anchor="wehner18" target="http://science.sciencemag.org/content/362/6412/eaam9288.full">
       <front>
         <title>Quantum internet: A vision for the road ahead</title>

         <author initials="S" surname="Wehner" />
         <author initials="D" surname="Elkouss" />
         <author initials="R" surname="Hanson" />

         <date year="2018" />
       </front>
       <seriesInfo name="Science" value="362, 6412" />
     </reference>

     <reference anchor="aspect81" target="https://journals.aps.org/prl/abstract/10.1103/PhysRevLett.47.460">
       <front>
         <title>Experimental Tests of Realistic Local Theories via Bell's
         Theorem</title>

         <author initials="A" surname="Aspect" />
         <author initials="P" surname="Grangier" />
         <author initials="G" surname="Roger" />

         <date year="1981" />
       </front>
       <seriesInfo name="Phys. Rev. Lett." value="47 (7): 460-463" />
     </reference>

     <reference anchor="mural16" target="https://www.nature.com/articles/srep20463">
       <front>
         <title>Optimal architectures for long distance quantum communication</title>

         <author initials="S" surname="Muralidharan" />
         <author initials="L" surname="Li" />
         <author initials="J" surname="Kim" />
         <author initials="N" surname="Lutkenhaus" />
         <author initials="M" surname="Lukin" />
         <author initials="L" surname="Jiang" />

         <date year="2016" />
       </front>
       <seriesInfo name="Scientific Reports" value="6, 20463" />
     </reference>

     <reference anchor="van-meter13" target="https://ieeexplore.ieee.org/document/6576340">
       <front>
         <title>Designing quantum repeater networks</title>

         <author initials="R" surname="Van Meter" />
         <author initials="J" surname="Touch" />

         <date year="2013" />
       </front>
       <seriesInfo name="IEEE Communications Magazine" value="51, 64-71" />
     </reference>

     <reference anchor="dahlberg18" target="https://arxiv.org/abs/1903.09778">
       <front>
         <title>A Link Layer Protocol for Quantum Networks</title>

         <author initials="A" surname="Dahlberg" />
         <author initials="M" surname="Skrzypczyk" />
         <author initials="T" surname="Coopmans" />
         <author initials="L" surname="Wubben" />
         <author initials="F" surname="Rozpedek" />
         <author initials="M" surname="Pompili" />
         <author initials="A" surname="Stolk" />
         <author initials="P" surname="Pawelczak" />
         <author initials="R" surname="Knegjens" />
         <author initials="J" surname="de Oliveira Filho" />
         <author initials="R" surname="Hanson" />
         <author initials="S" surname="Wehner" />

         <date year="2019" />
       </front>
       <seriesInfo name="arXiv" value="1903.09778" />
     </reference>

          <reference anchor="sutor">
            <front>
              <title>Dancing with Qubits</title>

              <author initials="R.S" surname="Sutor" />

              <date year="2019" />
            </front>
            <seriesInfo name="Packt Publishing" value="" />
          </reference>


               <reference anchor="nielsen">
                 <front>
                   <title>Quantum Computation and Quantum Information</title>

                   <author initials="M.A" surname="Nielsen" />
                   <author initials="I.L" surname="Chuang" />

                   <date year="2011" />
                 </front>
                 <seriesInfo name="Cambridge University Press" value="" />
               </reference>

     <reference anchor="epp" target="https://arxiv.org/abs/quant-ph/9604024">
       <front>
         <title>Mixed State Entanglement and Quantum Error Correction</title>

         <author initials="C.H" surname="Bennett" />
         <author initials="D.P" surname="DiVincenzo" />
         <author initials="J.A" surname="Smolin" />
         <author initials="W.K" surname="Wootters" />

         <date year="1996" />
       </front>
       <seriesInfo name="Phys. Rev. A" value="Vol. 54, Iss. 5" />
     </reference>

     <reference anchor="briegel98" target="https://arxiv.org/abs/quant-ph/9803056">
       <front>
         <title>Quantum Repeaters: The Role of Imperfect Local Operations in
         Quantum Communication</title>

         <author initials="H.-J" surname="Briegel" />
         <author initials="W" surname="Dur" />
         <author initials="J.I" surname="Cirac" />
         <author initials="P" surname="Zoller" />

         <date year="1998" />
       </front>
       <seriesInfo name="Phys. Rev. Lett." value="Vol. 81, Num. 26" />
     </reference>

     <reference anchor="cacc19" target="https://arxiv.org/abs/1907.06197">
       <front>
         <title>When Entanglement meets Classical Communications: Quantum
         Teleportation for the Quantum Internet</title>

         <author initials="A.S" surname="Cacciapuoti" />
         <author initials="M" surname="Caleffi" />
         <author initials="R" surname="Van Meter" />
         <author initials="L" surname="Hanzo" />

         <date year="2019" />
       </front>
       <seriesInfo name=" " value=" " />
     </reference>

   </references>

 </back>
</rfc>
